import type { Achievement, Achievements } from "@/lib/useAchievements";

/**
 * Category tiers are scaffolded for future progression work.
 * All categories currently default to the "Beginner" tier (tierIndex 0).
 */

export type AchievementDef = Achievement;

export type TierDef = {
  tierIndex: number;
  tierKey: string;
  themeToken?: string;
  achievements: AchievementDef[];
};

export type CategoryKey = keyof Achievements;

export type CategoryDef = {
  categoryKey: CategoryKey;
  tiers: TierDef[];
};

// Achievements catalog - the source of truth for all achievement definitions
export const ACHIEVEMENTS_CATALOG: Achievements = {
  skill: [
    // PUTTING MASTERY
    {
      id: "skill-0",
      title: "Practice Makes Perfect",
      description: "Finish your first practice putting session",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "never",
      isCompleted: false,
      points: 10,
      kind: "toggle",
    },
    {
      id: "skill-1",
      title: "Circle One Success",
      description: "Make your first C1 putt (within 33 ft)",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "never",
      isCompleted: false,
      points: 15,
      kind: "toggle",
    },
    {
      id: "skill-2",
      title: "Circle One Specialist",
      description: "Make 3 C1 putts in a single round",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 25,
      kind: "toggle",
      rarity: "rare",
    },
    {
      id: "skill-6",
      title: "Straddle Star",
      description: "Make 3 straddle putts in one round",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "skill-5",
      title: "Chain Reaction",
      description: "Make 5 consecutive putts in a round",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-3",
      title: "Long Range Sniper",
      description: "Make your first C2 putt (33-66 ft)",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "never",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "pm_pressure_putter",
      title: "Pressure Putter",
      description: "Make 10 C1 putts in a row in a single session.",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 150,
      kind: "toggle",
      rarity: "rare",
    },
    {
      id: "pm_pressure_putt_tourney",
      title: "Pressure Putt",
      description: "Make any distance of putt outside 11 ft to win a tournament",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 250,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "pm_comeback_kid",
      title: "Comeback Kid",
      description: "After missing a C1 putt, make your next 5 C1 putts in a row.",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 150,
      kind: "toggle",
      rarity: "rare",
    },
    {
      id: "pm_edge_of_c2",
      title: "Edge of C2",
      description: "Make 10 putts from just outside Circle 1 (in a month).",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 200,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "pm_c1_accuracy_week",
      title: "C1 Accuracy",
      description: "Make 50 Circle 1 putts in a week.",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 150,
      kind: "toggle",
      rarity: "rare",
    },
    {
      id: "skill-4",
      title: "Distance Demon",
      description: "Make 3 C2 putts in a single round",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "skill-7",
      title: "Jump Putt Pro",
      description: "Make a jump putt from outside circle 1",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "never",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-8",
      title: "Spin Doctor",
      description: "Make a turbo putt outside 15 feet",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "never",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-9",
      title: "Three-Point Shot",
      description: "Make a Vinnie basketball putt outside 15 feet",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "never",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-11",
      title: "Scooby Snack",
      description: "Make a scoober putt outside 15 feet",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "never",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-10",
      title: "Money Shot",
      description: "Make your first throw in from 66+ feet",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "never",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },

    // Putting Mastery (from spreadsheet)
    {
      id: "pm_first_tap_in",
      title: "Tap-In",
      description: "Make your first putt within 11 ft.",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "never",
      isCompleted: false,
      points: 10,
      kind: "toggle",
    },
    {
      id: "pm_two_tap_ins",
      title: "Two Tap-Ins",
      description: "Make 2 putts in a row within 11 ft.",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "pm_metal_outside_11",
      title: "Metal Detector",
      description: "Hit any metal from outside 11 ft.",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "pm_first_straddle_obstructed",
      title: "Straddle Starter",
      description: "Make your first straddle putt from behind an obstacle.",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "never",
      isCompleted: false,
      points: 50,
      kind: "toggle",
      rarity: "rare",
    },
    {
      id: "pm_uphill_climb",
      title: "Uphill Climb",
      description: "Make a significantly uphill C2 putt.",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 200,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "pm_downhill_confidence",
      title: "Downhill Confidence",
      description: "Make a significantly downhill C2 putt.",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 200,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "pm_c2_streak_10",
      title: "C2 Heater",
      description: "Make 10 C2 putts in a row in a practice session.",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 300,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "pm_putting_league_attend",
      title: "League Night",
      description: "Attend a putting league this year.",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 150,
      kind: "toggle",
      rarity: "rare",
    },
    {
      id: "pm_putting_league_champ",
      title: "Putting League Champ",
      description: "Win a putting league this year.",
      category: "skill",
      categoryId: "putting-mastery",
      subcategory: "puttingMastery",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 500,
      kind: "toggle",
      rarity: "legendary",
    },

    // DISTANCE CONTROL
    {
      id: "skill-12",
      title: "Noodle Arm",
      description: "Record your first throw over 100 ft",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "skill-13",
      title: "Growing Pains",
      description: "Record your first throw over 200 ft",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "skill-14",
      title: "Big Arm Energy",
      description: "Record your first throw over 300 ft",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "skill-15",
      title: "Cannon Arm",
      description: "Record your first throw over 400 ft",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      isCompleted: false,
      points: 200,
      kind: "toggle",
    },
    {
      id: "skill-16",
      title: "Crush Boy",
      description: "Record your first throw over 500+ ft",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      isCompleted: false,
      points: 250,
      kind: "toggle",
    },
    {
      id: "skill-17",
      title: "Park Job",
      description: "Park your first hole off a drive (landing within 11 ft)",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "skill-18",
      title: "Parking Attendant",
      description: "Park 3 holes in one round",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "skill-19",
      title: "Bullseye",
      description: "Land within C1 on 3 consecutive holes",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-20",
      title: "Wind Warrior",
      description: "Successfully birdie a hole in 20+ mph winds",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "dc_putter_250",
      title: "Big Putt",
      description: "Throw a putter over 250 ft.",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 150,
      kind: "toggle",
      rarity: "rare",
    },
    {
      id: "dc_island_green",
      title: "Stranded?",
      description: "Successfully land inside an island hole off the drive.",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 200,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "dc_ob_carry_250",
      title: "Carry the OB",
      description: "Throw a shot over OB that travels at least 250 ft.",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 150,
      kind: "toggle",
      rarity: "rare",
    },
    {
      id: "dc_putter_350",
      title: "Putter? Really?",
      description: "Throw a putter over 350 ft.",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 250,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "dc_ob_carry_350",
      title: "Bigger Carry",
      description: "Throw a shot over OB that travels at least 350 ft.",
      category: "skill",
      categoryId: "distance-control",
      subcategory: "distanceControl",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 250,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "skill-21",
      title: "Hyzer Flip Hero",
      description: "Birdie with a hyzer flip off tee",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },

    // SPECIALTY SHOTS
    {
      id: "ss_fairway_backhand",
      title: "Fairway BH",
      description: "Throw a backhand shot that stays in the fairway.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "ss_fairway_forehand",
      title: "Fairway FH",
      description: "Throw a forehand shot that stays in the fairway.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "ss_grip_backhand_trifecta",
      title: "Grip Lab (BH)",
      description: "Throw a backhand with fan, pinch, and power grip.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "ss_grip_forehand_trifecta",
      title: "Grip Lab (FH)",
      description: "Throw a forehand with fan, stacked, and power grip.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "skill-22",
      title: "Thumbs Up",
      description: "Birdie with a thumber off tee",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-23",
      title: "Grenade Launcher",
      description: "Birdie with a grenade off tee",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-24",
      title: "Tomahawk Triumph",
      description: "Birdie with a tomahawk off tee",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-25",
      title: "Rolling Thunder",
      description: "Birdie with a roller off tee",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-26",
      title: "Water Walker",
      description: "Birdie by skipping a disc off of water",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      resetPolicy: "never",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "skill-27",
      title: "Roller Derby",
      description: "Throw a roller that stays inbounds.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "skill-28",
      title: "Scramble Master",
      description: "Save par 3 different times off the fairway in one round",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-29",
      title: "Thumber",
      description: "Throw a thumber that stays inbounds.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "skill-30",
      title: "Forehand Finesse",
      description: "Throw a forehand that stays inbounds.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "skill-31",
      title: "Flex Master",
      description: "Throw a flex that stays inbounds.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },

    // Specialty Shots (from spreadsheet)
    {
      id: "ss_hyzerflip_fairway",
      title: "Hyzer Flip (Fairway)",
      description: "Throw a hyzer flip that stays in the fairway.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "ss_grenade_fairway",
      title: "Grenade (Fairway)",
      description: "Throw a grenade that stays in the fairway.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "ss_thumber_fairway",
      title: "Thumber (Fairway)",
      description: "Throw a thumber that stays in the fairway.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "ss_tomahawk_fairway",
      title: "Tomahawk (Fairway)",
      description: "Throw a tomahawk that stays in the fairway.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "ss_roller_fairway",
      title: "Roller (Fairway)",
      description: "Throw a roller that stays in the fairway.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "ss_flex_fairway",
      title: "Flex (Fairway)",
      description: "Throw a flex shot that stays in the fairway.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "ss_ambidextrous_birdie",
      title: "Ambidextrous",
      description: "Score birdie or better throwing with your non-dominant hand.",
      category: "skill",
      categoryId: "specialty-shots",
      subcategory: "specialtyShots",
      resetPolicy: "never",
      isCompleted: false,
      points: 400,
      kind: "toggle",
      rarity: "epic",
    },

    // SCORING ACHIEVEMENTS
    {
      id: "skill-32c",
      title: "First Triple Bogey",
      description: "Card your first triple bogey",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "skill-32b",
      title: "First Double Bogey",
      description: "Card your first double bogey",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "skill-32a",
      title: "First Bogey",
      description: "Card your first bogey",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "skill-32",
      title: "First Par",
      description: "Card your first par",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "skill-33",
      title: "Birdie Breakthrough",
      description: "Score your first birdie",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "skill-33a",
      title: "Par 4 Breakthrough",
      description: "Birdie your first par 4 hole",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "skill-33b",
      title: "Par 5 Breakthrough",
      description: "Birdie your first par 5 hole",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-34",
      title: "Eagle Eye",
      description: "Score your first eagle",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "skill-35",
      title: "Ace Race",
      description: "Hit your first ace (hole in one)",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      isCompleted: false,
      points: 500,
      kind: "toggle",
      rarity: "rare",
    },
    {
      id: "skill-35-2026",
      title: "First Ace of 2026",
      description: "Hit an ace this year (unlocked after your first-ever ace)",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      isCompleted: false,
      points: 250,
      kind: "toggle",
      resetPolicy: "yearly",
      gateRequiresId: "skill-35", // Ace Race (first-ever ace)
      rarity: "rare",
    },    
    {
      id: "ace_second_ace",
      title: "Second Ace",
      description: "Hit your second ace (hole in one).",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      gateRequiresId: "skill-35",
      resetPolicy: "never",
      isCompleted: false,
      points: 300,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "ace_third_ace",
      title: "Third Ace",
      description: "Hit your third ace (hole in one).",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      gateRequiresId: "skill-35",
      resetPolicy: "never",
      isCompleted: false,
      points: 400,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "ace_five_aces",
      title: "Five Aces",
      description: "Hit your fifth ace.",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      gateRequiresId: "skill-35",
      resetPolicy: "never",
      isCompleted: false,
      points: 600,
      kind: "toggle",
      rarity: "legendary",
    },
    {
      id: "ace_ace_in_tournament",
      title: "Tournament Ace",
      description: "Hit an ace during a tournament round.",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      gateRequiresId: "skill-35",
      resetPolicy: "never",
      isCompleted: false,
      points: 750,
      kind: "toggle",
      rarity: "legendary",
    },
    {
      id: "ace_ace_on_camera",
      title: "Caught on Camera",
      description: "Hit an ace that was recorded on video.",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      gateRequiresId: "skill-35",
      resetPolicy: "never",
      isCompleted: false,
      points: 500,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "ace_ace_skip",
      title: "Skip Ace",
      description: "Hit an ace with a skip-in.",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      gateRequiresId: "skill-35",
      resetPolicy: "never",
      isCompleted: false,
      points: 600,
      kind: "toggle",
      rarity: "legendary",
    },
    {
      id: "ace_ace_forehand",
      title: "Forehand Ace",
      description: "Hit an ace with a forehand drive.",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      gateRequiresId: "skill-35",
      resetPolicy: "never",
      isCompleted: false,
      points: 600,
      kind: "toggle",
      rarity: "legendary",
    },
    {
      id: "ace_ace_backhand",
      title: "Backhand Ace",
      description: "Hit an ace with a backhand drive.",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      gateRequiresId: "skill-35",
      resetPolicy: "never",
      isCompleted: false,
      points: 600,
      kind: "toggle",
      rarity: "legendary",
    },
    {
      id: "ace_backhand_year",
      title: "Backhand Baddie",
      description: "Hit a backhand ace this year",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      resetPolicy: "yearly",
      gateRequiresId: "skill-35",
      isCompleted: false,
      points: 250,
      kind: "toggle",
      rarity: "rare",
    },
    {
      id: "ace_sidearm_year",
      title: "Sidearm Specialist",
      description: "Hit a sidearm ace this year",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      resetPolicy: "yearly",
      gateRequiresId: "skill-35",
      isCompleted: false,
      points: 250,
      kind: "toggle",
      rarity: "rare",
    },
    {
      id: "ace_weird_shot_year",
      title: "Weirdo",
      description: "Hit an ace with some other kind of shot",
      category: "skill",
      categoryId: "aces",
      subcategory: "aces",
      resetPolicy: "yearly",
      gateRequiresId: "skill-35",
      isCompleted: false,
      points: 300,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "skill-36",
      title: "Albatross Alert",
      description: "Card your first albatross",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 250,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "skill-37",
      title: "Bird Watching",
      description: "Record your first turkey (3 birdies in a row)",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "skill-38",
      title: "Under Achiever",
      description: "Score under par at a course",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill-39",
      title: "Disc Golf Domination",
      description: "Go double digits under par",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "skill-40",
      title: "Zero Mistakes",
      description: "Record a perfect round (birdied every hole)",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 250,
      kind: "toggle",
    },
    {
      id: "skill-41",
      title: "Damage Control",
      description: "Save par after a bad drive (going OB)",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "skill_bogey_free_round",
      title: "Clean Card",
      description: "Record your first bogey-free round",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "birdies_10",
      title: "Hit 10 Birdies",
      description: "Record 10 birdies across all rounds.",
      category: "skill",
      categoryId: "scoring-achievements",
      subcategory: "scoringAchievements",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },

    // ROUND RATINGS
    {
      id: "skill_rating_100",
      title: "Century Club",
      description: "Record first UDisc round rated over 100",
      category: "skill",
      categoryId: "round-ratings",
      subcategory: "roundRatings",
      resetPolicy: "never",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "skill_rating_125",
      title: "Above Average",
      description: "Record first UDisc round rated over 125",
      category: "skill",
      categoryId: "round-ratings",
      subcategory: "roundRatings",
      resetPolicy: "never",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "skill_rating_150",
      title: "Skillful Player",
      description: "Record first UDisc round rated over 150",
      category: "skill",
      categoryId: "round-ratings",
      subcategory: "roundRatings",
      resetPolicy: "never",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "skill_rating_175",
      title: "Advanced Player",
      description: "Record first UDisc round rated over 175",
      category: "skill",
      categoryId: "round-ratings",
      subcategory: "roundRatings",
      resetPolicy: "never",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "skill_rating_200",
      title: "Expert Level",
      description: "Record first UDisc round rated over 200",
      category: "skill",
      categoryId: "round-ratings",
      subcategory: "roundRatings",
      resetPolicy: "never",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "skill_rating_225",
      title: "Elite Player",
      description: "Record first UDisc round rated over 225",
      category: "skill",
      categoryId: "round-ratings",
      subcategory: "roundRatings",
      resetPolicy: "never",
      isCompleted: false,
      points: 200,
      kind: "toggle",
    },
    {
      id: "skill_rating_250",
      title: "Master Class",
      description: "Record first UDisc round rated over 250",
      category: "skill",
      categoryId: "round-ratings",
      subcategory: "roundRatings",
      resetPolicy: "never",
      isCompleted: false,
      points: 300,
      kind: "toggle",
    },
    {
      id: "skill_rating_275",
      title: "Grandmaster",
      description: "Record first UDisc round rated over 275",
      category: "skill",
      categoryId: "round-ratings",
      subcategory: "roundRatings",
      resetPolicy: "never",
      isCompleted: false,
      points: 400,
      kind: "toggle",
    },
    {
      id: "skill_rating_300",
      title: "Legendary",
      description: "Record first UDisc round rated over 300",
      category: "skill",
      categoryId: "round-ratings",
      subcategory: "roundRatings",
      resetPolicy: "never",
      isCompleted: false,
      points: 500,
      kind: "toggle",
    }
  ],
  social: [
    // COMMUNITY ENGAGEMENT
    {
      id: "social-0",
      title: "League Night Rookie",
      description: "Participate in your first league night",
      category: "social",
      subcategory: "competitionEvents",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social-1",
      title: "Club Member",
      description: "Join your local disc golf club",
      category: "social",
      subcategory: "communityEngagement",
      isCompleted: false,
      points: 75,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "social-2",
      title: "Course Steward",
      description: "Help maintain or improve a local course",
      category: "social",
      subcategory: "communityEngagement",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "social-3",
      title: "Cleanup Crew",
      description: "Participate in three course cleanup events",
      category: "social",
      subcategory: "communityEngagement",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "social-4",
      title: "Tree Guardian",
      description: "Plant trees, or maintain landscaping at a course",
      category: "social",
      subcategory: "communityEngagement",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "social-random-card-hero",
      title: "Random Card Hero",
      description: "Play a round with someone you've never met before",
      category: "social",
      categoryId: "cardmates",
      subcategory: "cardmates",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social-5",
      title: "PDGA Official",
      description: "Purchase a PDGA membership",
      category: "social",
      subcategory: "communityEngagement",
      isCompleted: false,
      points: 200,
      kind: "toggle",
    },
    {
      id: "social-6",
      title: "Group Player",
      description: "Play a round with three or more people",
      category: "social",
      subcategory: "communityEngagement",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social-7",
      title: "Social Butterfly",
      description: "Play with 10 different people",
      category: "social",
      categoryId: "cardmates",
      subcategory: "cardmates",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "social-8",
      title: "Disc Trader",
      description: "Participate in your first disc swap event",
      category: "social",
      subcategory: "communityEngagement",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social-9",
      title: "Disc Golf Buddy",
      description: "Play five rounds with the same person",
      category: "social",
      subcategory: "communityEngagement",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "social-10",
      title: "Regular Partner",
      description: "Play 10 rounds with the same person",
      category: "social",
      categoryId: "cardmates",
      subcategory: "cardmates",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social-11",
      title: "Dedicated Duo",
      description: "Play 25 rounds with the same person",
      category: "social",
      categoryId: "cardmates",
      subcategory: "cardmates",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "social-12",
      title: "Dynamic Partnership",
      description: "Play 50 rounds with the same person",
      category: "social",
      categoryId: "cardmates",
      subcategory: "cardmates",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "social-13",
      title: "Disc Golf Soulmates",
      description: "Play 100 rounds with the same person",
      category: "social",
      categoryId: "cardmates",
      subcategory: "cardmates",
      isCompleted: false,
      points: 200,
      kind: "toggle",
    },
    {
      id: "social_budding_friendship",
      title: "Budding Friendship",
      description: "Play your first round with another player",
      category: "social",
      categoryId: "cardmates",
      subcategory: "cardmates",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social_branching_out",
      title: "Branching Out",
      description: "Record rounds with 10 different people",
      category: "social",
      categoryId: "cardmates",
      subcategory: "cardmates",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "social_rounds_with_5",
      title: "Rounds With 5",
      description: "Record rounds with 5 different people",
      category: "social",
      categoryId: "cardmates",
      subcategory: "cardmates",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 35,
      kind: "toggle",
    },
    {
      id: "social_rounds_with_15",
      title: "Rounds With 15",
      description: "Record rounds with 15 different people",
      category: "social",
      categoryId: "cardmates",
      subcategory: "cardmates",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 90,
      kind: "toggle",
    },
    {
      id: "social_rounds_with_25",
      title: "Rounds With 25",
      description: "Record rounds with 25 different people",
      category: "social",
      categoryId: "cardmates",
      subcategory: "cardmates",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "social-14",
      title: "Pro Connection",
      description: "Meet a professional disc golfer",
      category: "social",
      subcategory: "communityEngagement",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },

    // TEACHING & LEADERSHIP
    {
      id: "social-15",
      title: "Disc Golf Mentor",
      description: "Teach someone how to play disc golf",
      category: "social",
      subcategory: "teachingLeadership",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social-16",
      title: "Local Guide",
      description: "Show a new player around your local course",
      category: "social",
      subcategory: "teachingLeadership",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social-17",
      title: "Youth Mentor",
      description: "Coach youth players in disc golf",
      category: "social",
      subcategory: "teachingLeadership",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "social-18",
      title: "School Program",
      description: "Help introduce disc golf to a school program",
      category: "social",
      subcategory: "teachingLeadership",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "social-19",
      title: "Next Generation",
      description: "Donate discs to youth programs or schools",
      category: "social",
      subcategory: "teachingLeadership",
      isCompleted: false,
      points: 200,
      kind: "toggle",
    },
    {
      id: "social-20",
      title: "League Commissioner",
      description: "Organize a league",
      category: "social",
      subcategory: "teachingLeadership",
      isCompleted: false,
      points: 250,
      kind: "toggle",
    },
    {
      id: "social-21",
      title: "Club Board Member",
      description: "Serve on a local disc golf club board",
      category: "social",
      subcategory: "teachingLeadership",
      isCompleted: false,
      points: 500,
      kind: "toggle",
    },

    // COMPETITION & EVENTS (social-0 League Night Rookie is parent; others gated)
    {
      id: "social-22",
      title: "Tournament First Timer",
      description: "Play in your first tournament",
      category: "social",
      subcategory: "competitionEvents",
      requiresId: "social-0",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social-23",
      title: "Scorekeeper",
      description: "Keep score for a tournament card",
      category: "social",
      subcategory: "competitionEvents",
      requiresId: "social-0",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "social-24",
      title: "Spotter",
      description: "Volunteer as a spotter in a tournament",
      category: "social",
      subcategory: "competitionEvents",
      requiresId: "social-0",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "social-25",
      title: "Registration Desk",
      description: "Help run a tournament registration/check-in",
      category: "social",
      subcategory: "competitionEvents",
      requiresId: "social-0",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "social-26",
      title: "Victory Lap",
      description: "Place on the podium at a league night",
      category: "social",
      subcategory: "competitionEvents",
      requiresId: "social-0",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "social-27",
      title: "Division Champ",
      description: "Win your division in a tournament",
      category: "social",
      subcategory: "competitionEvents",
      requiresId: "social-0",
      isCompleted: false,
      points: 200,
      kind: "toggle",
    },
    {
      id: "social-28",
      title: "Dynamic Duo",
      description: "Participate in a doubles tournament",
      category: "social",
      subcategory: "competitionEvents",
      requiresId: "social-0",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social-29",
      title: "Tournament Director",
      description: "Direct or help direct a tournament",
      category: "social",
      subcategory: "competitionEvents",
      requiresId: "social-0",
      isCompleted: false,
      points: 250,
      kind: "toggle",
    },
    {
      id: "social-30",
      title: "Ace Hunter",
      description: "Participate in an ace race event",
      category: "social",
      subcategory: "competitionEvents",
      requiresId: "social-0",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "social-31",
      title: "Night Owl",
      description: "Play a glow round",
      category: "social",
      subcategory: "competitionEvents",
      requiresId: "social-0",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },

    // MEDIA & CONTENT
    {
      id: "social-32",
      title: "Course Critic",
      description: "Review a course on UDisc or a similar platform",
      category: "social",
      subcategory: "mediaContent",
      isCompleted: false,
      points: 10,
      kind: "toggle",
    },
    {
      id: "social-33",
      title: "Content Creator",
      description: "Create disc golf content for others",
      category: "social",
      subcategory: "mediaContent",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social-34",
      title: "Pro Tour Fan",
      description: "Start watching pro tour content",
      category: "social",
      subcategory: "mediaContent",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social-35",
      title: "Live Coverage Enthusiast",
      description: "Purchase a DGN subscription",
      category: "social",
      subcategory: "mediaContent",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },

    // GOOD SAMARITAN
    {
      id: "social-36",
      title: "Lost and Found",
      description: "Return your first lost disc to its owner",
      category: "social",
      categoryId: "good-samaritan",
      subcategory: "goodSamaritan",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "social-37",
      title: "Disc Detective",
      description: "Return 5 discs to their owners",
      category: "social",
      categoryId: "good-samaritan",
      subcategory: "goodSamaritan",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "social-38",
      title: "Disc Guardian",
      description: "Return 10 discs to their owners",
      category: "social",
      categoryId: "good-samaritan",
      subcategory: "goodSamaritan",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "social-39",
      title: "Disc Recovery Expert",
      description: "Return 25 discs to their owners",
      category: "social",
      categoryId: "good-samaritan",
      subcategory: "goodSamaritan",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "social-40",
      title: "Disc Return Legend",
      description: "Return 50+ discs to their owners",
      category: "social",
      categoryId: "good-samaritan",
      subcategory: "goodSamaritan",
      isCompleted: false,
      points: 200,
      kind: "toggle",
    }
  ],
  collection: [
    // DISC ESSENTIALS
    {
      id: "collection-0",
      title: "First Disc",
      description: "Purchase your first disc",
      category: "collection",
      subcategory: "discEssentials",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "collection-1",
      title: "Putting Pioneer",
      description: "Add your first putter to your collection",
      category: "collection",
      subcategory: "discEssentials",
      isCompleted: false,
      points: 10,
      rarity: "rare",
      kind: "toggle",
    },
    {
      id: "collection-2",
      title: "Mid Range Master",
      description: "Add your first midrange disc to your collection",
      category: "collection",
      subcategory: "discEssentials",
      isCompleted: false,
      points: 10,
      kind: "toggle",
    },
    {
      id: "collection-3",
      title: "Distance Driver",
      description: "Add your first distance driver to your collection",
      category: "collection",
      subcategory: "discEssentials",
      isCompleted: false,
      points: 10,
      kind: "toggle",
    },
    {
      id: "collection-4",
      title: "Mini Marker",
      description: "Get your first mini marker",
      category: "collection",
      subcategory: "discEssentials",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "collection-5",
      title: "Disc Carrier",
      description: "Get your first disc golf bag or satchel",
      category: "collection",
      subcategory: "discEssentials",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },

    // DISC MILESTONES
    {
      id: "collection-6",
      title: "Starter Pack",
      description: "Own five different discs",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "collection-7",
      title: "Double Digits",
      description: "Own 10 different discs",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "collection-8",
      title: "Disc Enthusiast",
      description: "Own 25 different discs",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "collection-9",
      title: "Disc Collector",
      description: "Own 50 different discs",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "collection-10",
      title: "Century Club",
      description: "Own 100 different discs",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      isCompleted: false,
      points: 200,
      kind: "toggle",
    },
    {
      id: "collection-11",
      title: "Brand Explorer",
      description: "Own discs from 2 different manufacturers",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "collection-12",
      title: "Plastic Connoisseur",
      description: "Own discs in 5 different plastic types",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "collection-13",
      title: "Collecting Dust",
      description: "Own five different discs that you never use",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "collection-14",
      title: "Aspirational Purchase",
      description: "Buy a disc that's way too fast for your arm speed",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "collection-15",
      title: "Glow Getter",
      description: "Add a glow-in-the-dark disc to your collection",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "collection-lost-but-remembered",
      title: "Lost & Not Found",
      description: "Lose a disc and never get it back",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "disc_branching_out",
      title: "Branching Out",
      description: "Own discs from 5 different manufacturers",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "disc_mixed_bag_season_3",
      title: "Mixed Bag Season",
      description: "Bag discs from 3 different manufacturers for a whole season",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "disc_manufacturer_hunter_10",
      title: "Manufacturer Hunter",
      description: "Own discs from 10 manufacturers",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 250,
      kind: "toggle",
    },
    {
      id: "disc_variety_bag_season_5",
      title: "Variety Bag Season",
      description: "Bag discs from 5 different manufacturers for a whole season",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 300,
      kind: "toggle",
    },
    {
      id: "disc_aint_a_hobby_150",
      title: "This Ain't a Hobby Anymore",
      description: "Own 150+ discs",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      resetPolicy: "never",
      isCompleted: false,
      points: 500,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "disc_manufacturer_collector_25",
      title: "Manufacturer Collector",
      description: "Own discs from 25 manufacturers",
      category: "collection",
      categoryId: "disc-collection",
      subcategory: "discMilestones",
      resetPolicy: "never",
      isCompleted: false,
      points: 600,
      kind: "toggle",
      rarity: "legendary",
    },

    // EQUIPMENT & ACCESSORIES
    {
      id: "collection-50",
      title: "Towel Time",
      description: "Get your first disc golf towel",
      category: "collection",
      subcategory: "equipmentAccessories",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "collection-51",
      title: "Grip Enhancement",
      description: "Purchase a whale sack or other equivalent chalk bag",
      category: "collection",
      subcategory: "equipmentAccessories",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "collection-16",
      title: "Bag Upgrade",
      description: "Upgrade to a larger/better disc golf bag",
      category: "collection",
      subcategory: "equipmentAccessories",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "collection-17",
      title: "Cart Commander",
      description: "Purchase a disc golf cart",
      category: "collection",
      subcategory: "equipmentAccessories",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "collection-52",
      title: "Rescue Ready",
      description: "Get your first disc retriever",
      category: "collection",
      subcategory: "equipmentAccessories",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "collection-53",
      title: "Practice Setup",
      description: "Purchase a practice basket",
      category: "collection",
      subcategory: "equipmentAccessories",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },

    // SPECIAL DISCS
    {
      id: "collection-18",
      title: "Tour Series",
      description: "Purchase a tour series disc",
      category: "collection",
      subcategory: "specialDiscs",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "collection-19",
      title: "Signature Series",
      description: "Purchase a signature series disc",
      category: "collection",
      subcategory: "specialDiscs",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "collection-20",
      title: "First Run",
      description: "Purchase a first run disc",
      category: "collection",
      subcategory: "specialDiscs",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "collection-21",
      title: "Limited Release",
      description: "Purchase a limited/special edition disc",
      category: "collection",
      subcategory: "specialDiscs",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "collection-22",
      title: "Pro Support",
      description: "Purchase a tour series disc",
      category: "collection",
      subcategory: "specialDiscs",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "collection-23",
      title: "Custom Art",
      description: "Purchase a disc with a custom stamp",
      category: "collection",
      subcategory: "specialDiscs",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "collection-24",
      title: "Tournament Treasure",
      description: "Get a disc from a tournament",
      category: "collection",
      subcategory: "specialDiscs",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "collection-25",
      title: "Pro Signature",
      description: "Get a disc signed by a professional",
      category: "collection",
      subcategory: "specialDiscs",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "collection-26",
      title: "Personal Touch",
      description: "Design your own custom stamp",
      category: "collection",
      subcategory: "specialDiscs",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "collection-27",
      title: "Dye Artist",
      description: "Dye your first disc",
      category: "collection",
      subcategory: "specialDiscs",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "collection-28",
      title: "Dye Merchant",
      description: "Sell a dyed disc",
      category: "collection",
      subcategory: "specialDiscs",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "collection-30",
      title: "Vintage Collector",
      description: "Own a disc that's over 20 years old",
      category: "collection",
      subcategory: "specialDiscs",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },

    // COURSE EXPLORER
    {
      id: "collection-31",
      title: "New Horizons",
      description: "Play 5 different courses",
      category: "collection",
      categoryId: "course-explorer",
      subcategory: "courseExplorer",
      resetPolicy: "never",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "collection-32",
      title: "Course Adventurer",
      description: "Play 10 different courses",
      category: "collection",
      categoryId: "course-explorer",
      subcategory: "courseExplorer",
      resetPolicy: "never",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "collection-33",
      title: "Course Conqueror",
      description: "Play 25 different courses",
      category: "collection",
      categoryId: "course-explorer",
      subcategory: "courseExplorer",
      resetPolicy: "never",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "collection-34",
      title: "Course Legend",
      description: "Play 50 different courses",
      category: "collection",
      categoryId: "course-explorer",
      subcategory: "courseExplorer",
      resetPolicy: "never",
      isCompleted: false,
      points: 300,
      kind: "toggle",
    },
    {
      id: "collection-35",
      title: "Course Connoisseur",
      description: "Play 100+ different courses",
      category: "collection",
      categoryId: "course-explorer",
      subcategory: "courseExplorer",
      resetPolicy: "never",
      isCompleted: false,
      points: 500,
      kind: "toggle",
    },
    {
      id: "collection-36",
      title: "State's Best",
      description: "Play the #1 rated course in your state",
      category: "collection",
      categoryId: "course-explorer",
      subcategory: "courseExplorer",
      resetPolicy: "never",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "collection-37",
      title: "Top of the State",
      description: "Play the top 5 courses in your state",
      category: "collection",
      categoryId: "course-explorer",
      subcategory: "courseExplorer",
      resetPolicy: "never",
      isCompleted: false,
      points: 250,
      kind: "toggle",
    },
    {
      id: "collection-38",
      title: "National Treasure",
      description: "Play the #1 rated course in the country",
      category: "collection",
      categoryId: "course-explorer",
      subcategory: "courseExplorer",
      resetPolicy: "never",
      isCompleted: false,
      points: 250,
      kind: "toggle",
    },
    {
      id: "course_top5_one",
      title: "Top Five Taste",
      description: "Play 1 of your State's/Country's top 5 courses",
      category: "collection",
      categoryId: "course-explorer",
      subcategory: "courseExplorer",
      resetPolicy: "never",
      isCompleted: false,
      points: 200,
      kind: "toggle",
    },
    {
      id: "course_road_trippin_2_regions",
      title: "Road Trippin'",
      description: "Log a round in 2 different US states (or equivalent regions)",
      category: "collection",
      categoryId: "course-explorer",
      subcategory: "courseExplorer",
      resetPolicy: "never",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "course_top5_all_country",
      title: "Top Five Complete",
      description: "Play all of the top 5 courses in your country",
      category: "collection",
      categoryId: "course-explorer",
      subcategory: "courseExplorer",
      resetPolicy: "never",
      isCompleted: false,
      points: 600,
      kind: "toggle",
      rarity: "legendary",
    },
    {
      id: "course_5_countries",
      title: "Passport Stamps",
      description: "Log a round in 5 different countries",
      category: "collection",
      categoryId: "course-explorer",
      subcategory: "courseExplorer",
      resetPolicy: "never",
      isCompleted: false,
      points: 600,
      kind: "toggle",
      rarity: "legendary",
    },

    // ROUND MILESTONES
    {
      id: "collection-39",
      title: "First Round",
      description: "Complete your first round of disc golf",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 10,
      kind: "toggle",
    },
    {
      id: "collection-40",
      title: "Dedicated Player",
      description: "Play 10 rounds of disc golf",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 25,
      kind: "toggle",
    },
    {
      id: "collection-41",
      title: "Experienced Player",
      description: "Play 50 rounds of disc golf",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "collection-42",
      title: "Seasoned Veteran",
      description: "Play 100 rounds of disc golf",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "collection-43",
      title: "Veteran Player",
      description: "Play 250 rounds of disc golf",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 250,
      kind: "toggle",
    },
    {
      id: "collection-44",
      title: "Elite Player",
      description: "Play 500+ rounds of disc golf",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "never",
      isCompleted: false,
      points: 500,
      kind: "toggle",
    },
    {
      id: "round_full_18",
      title: "Full 18",
      description: "Play your first course with 18 holes",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 50,
      kind: "toggle",
    },
    {
      id: "round_2_in_week",
      title: "Two in a Week",
      description: "Play 2 rounds in 1 week",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 75,
      kind: "toggle",
    },
    {
      id: "round_weekly_streak_4",
      title: "Four-Week Streak",
      description: "Play at least once a week for 4 consecutive weeks",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 100,
      kind: "toggle",
    },
    {
      id: "round_25th",
      title: "Quarter Century",
      description: "Play your 25th round of disc golf",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 125,
      kind: "toggle",
    },
    {
      id: "round_3_in_week",
      title: "Three in a Week",
      description: "Play 3 rounds in 1 week",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 150,
      kind: "toggle",
    },
    {
      id: "round_weekly_streak_10",
      title: "Ten-Week Streak",
      description: "Play at least once a week for 10 consecutive weeks",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 200,
      kind: "toggle",
    },
    {
      id: "round_6_in_week",
      title: "Six in a Week",
      description: "Play 6 rounds in 1 week",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 300,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "round_weekly_streak_25",
      title: "Half-Year Habit",
      description: "Play at least once a week for 25 consecutive weeks",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "yearly",
      isCompleted: false,
      points: 350,
      kind: "toggle",
      rarity: "epic",
    },
    {
      id: "round_1000th",
      title: "Round Legend",
      description: "Play your 1000th round of disc golf",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "never",
      isCompleted: false,
      points: 800,
      kind: "toggle",
      rarity: "legendary",
    },
    {
      id: "round_weekly_streak_52",
      title: "Yearlong Streak",
      description: "Play every week for a whole year",
      category: "collection",
      categoryId: "round-milestones",
      subcategory: "roundMilestones",
      resetPolicy: "never",
      isCompleted: false,
      points: 900,
      kind: "toggle",
      rarity: "legendary",
    }
  ]
};

export const CATALOG_POINTS_BY_ID: Record<string, number> = (() => {
  const map: Record<string, number> = {};
  for (const cat of ["skill", "social", "collection"] as const) {
    for (const a of ACHIEVEMENTS_CATALOG[cat]) {
      map[a.id] = a.points ?? 0;
    }
  }
  return map;
})();

export function getCatalogPoints(id: string): number {
  return CATALOG_POINTS_BY_ID[id] ?? 0;
}

export const ACHIEVEMENTS_CATEGORIES: Record<CategoryKey, CategoryDef> = {
  skill: {
    categoryKey: "skill",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: ACHIEVEMENTS_CATALOG.skill,
      },
    ],
  },
  social: {
    categoryKey: "social",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: ACHIEVEMENTS_CATALOG.social,
      },
    ],
  },
  collection: {
    categoryKey: "collection",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: ACHIEVEMENTS_CATALOG.collection,
      },
    ],
  },
};

// Category-card tier defs: tier progression is per card (e.g. Putting Mastery), not per tab.
export type CategoryCardId =
  | "putting-mastery"
  | "distance-control"
  | "specialty-shots"
  | "scoring-achievements"
  | "round-ratings"
  | "cardmates"
  | "good-samaritan"
  | "disc-collection"
  | "course-explorer"
  | "round-milestones";

export type CategoryCardDef = {
  categoryId: string;
  title: string;
  tiers: TierDef[];
};

const PUTTING_MASTERY_TIER_IDS: Record<number, string[]> = {
  0: [
    "pm_first_tap_in",
    "skill-0",
    "skill-1",
    "pm_two_tap_ins",
    "pm_metal_outside_11",
    "skill-2",
  ],
  1: [
    "skill-3",
    "skill-5",
    "pm_first_straddle_obstructed",
    "pm_c1_accuracy_week",
    "pm_pressure_putter",
    "skill-7",
    "skill-6",
  ],
  2: [
    "skill-8",
    "skill-11",
    "skill-9",
    "pm_edge_of_c2",
    "pm_comeback_kid",
    "pm_uphill_climb",
    "pm_downhill_confidence",
    "skill-4",
    "skill-10",
    "pm_c2_streak_10",
    "pm_putting_league_attend",
    "pm_pressure_putt_tourney",
  ],
  3: [
    "pm_putting_league_champ",
  ],
};

const DISTANCE_CONTROL_TIER_IDS: Record<number, string[]> = {
  0: ["skill-12", "skill-13", "skill-17"],
  1: [
    "skill-14",
    "skill-18",
    "dc_putter_250",
    "dc_ob_carry_250",
    "skill-19",
    "dc_island_green",
  ],
  2: ["skill-15", "skill-20", "dc_putter_350", "dc_ob_carry_350"],
  3: ["skill-16"],
};

const SPECIALTY_SHOTS_TIER_IDS: Record<number, string[]> = {
  0: [
    "ss_fairway_backhand",
    "ss_fairway_forehand",
    "skill-30",
    "skill-31",
    "ss_grip_backhand_trifecta",
    "ss_grip_forehand_trifecta",
  ],
  1: [
    "ss_hyzerflip_fairway",
    "ss_flex_fairway",
    "ss_roller_fairway",
    "ss_grenade_fairway",
    "ss_thumber_fairway",
    "ss_tomahawk_fairway",
  ],
  2: ["skill-21", "skill-22", "skill-23", "skill-24", "skill-25", "skill-27", "skill-29", "skill-28"],
  3: ["skill-26", "ss_ambidextrous_birdie"],
};

const SCORING_ACHIEVEMENTS_TIER_IDS: Record<number, string[]> = {
  0: ["skill-32", "skill-33", "skill-32a", "skill-32b", "skill-32c"],
  1: ["skill-33a", "skill-33b", "skill-41", "birdies_10", "skill-37"],
  2: ["skill_bogey_free_round", "skill-38", "skill-34", "skill-39"],
  3: ["skill-36", "skill-40"],
};

const ROUND_RATINGS_TIER_IDS: Record<number, string[]> = {
  0: ["skill_rating_100", "skill_rating_125", "skill_rating_150"],
  1: ["skill_rating_175", "skill_rating_200"],
  2: ["skill_rating_225", "skill_rating_250"],
  3: ["skill_rating_275", "skill_rating_300"],
};

const CARDMATES_TIER_IDS: Record<number, string[]> = {
  0: ["social_budding_friendship", "social-9", "social-random-card-hero", "social_rounds_with_5"],
  1: ["social-6", "social-10", "social-11", "social_branching_out", "social_rounds_with_15", "social-7"],
  2: ["social-12", "social-13", "social_rounds_with_25"],
};

const GOOD_SAMARITAN_TIER_IDS: Record<number, string[]> = {
  0: ["social-36"],
  1: ["social-37"],
  2: ["social-38"],
  3: ["social-39", "social-40"],
};

const DISC_COLLECTION_TIER_IDS: Record<number, string[]> = {
  0: ["collection-6", "collection-11"],
  1: [
    "collection-7",
    "collection-8",
    "disc_branching_out",
    "disc_mixed_bag_season_3",
    "collection-12",
    "collection-15",
  ],
  2: [
    "collection-9",
    "collection-10",
    "disc_manufacturer_hunter_10",
    "disc_variety_bag_season_5",
  ],
  3: ["disc_aint_a_hobby_150", "disc_manufacturer_collector_25"],
};

const COURSE_EXPLORER_TIER_IDS: Record<number, string[]> = {
  0: ["collection-31", "collection-32"],
  1: [
    "collection-33",
    "collection-34",
    "course_top5_one",
    "course_road_trippin_2_regions",
  ],
  2: ["collection-35", "collection-36", "collection-37", "collection-38"],
  3: ["course_top5_all_country", "course_5_countries"],
};

const ROUND_MILESTONES_TIER_IDS: Record<number, string[]> = {
  0: [
    "collection-39",
    "round_full_18",
    "collection-40",
    "round_2_in_week",
    "round_weekly_streak_4",
  ],
  1: [
    "round_25th",
    "collection-41",
    "collection-42",
    "round_3_in_week",
    "round_weekly_streak_10",
  ],
  2: [
    "collection-43",
    "collection-44",
    "round_6_in_week",
    "round_weekly_streak_25",
  ],
  3: ["round_1000th", "round_weekly_streak_52"],
};

function getDefById(id: string): AchievementDef | undefined {
  for (const a of ACHIEVEMENTS_CATALOG.skill) if (a.id === id) return a as AchievementDef;
  for (const a of ACHIEVEMENTS_CATALOG.social) if (a.id === id) return a as AchievementDef;
  for (const a of ACHIEVEMENTS_CATALOG.collection) if (a.id === id) return a as AchievementDef;
  return undefined;
}

function pickDefs(ids: string[]): AchievementDef[] {
  return ids.map((id) => getDefById(id)).filter((a): a is AchievementDef => a != null);
}

export const CATEGORY_CARD_DEFS: Record<CategoryCardId, CategoryCardDef> = {
  "putting-mastery": {
    categoryId: "putting-mastery",
    title: "Putting Mastery",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: pickDefs(PUTTING_MASTERY_TIER_IDS[0]),
      },
      {
        tierIndex: 1,
        tierKey: "intermediate",
        themeToken: "intermediate",
        achievements: pickDefs(PUTTING_MASTERY_TIER_IDS[1]),
      },
      {
        tierIndex: 2,
        tierKey: "advanced",
        themeToken: "advanced",
        achievements: pickDefs(PUTTING_MASTERY_TIER_IDS[2]),
      },
      {
        tierIndex: 3,
        tierKey: "expert",
        themeToken: "expert",
        achievements: pickDefs(PUTTING_MASTERY_TIER_IDS[3]),
      },
    ],
  },
  "distance-control": {
    categoryId: "distance-control",
    title: "Distance Control",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: pickDefs(DISTANCE_CONTROL_TIER_IDS[0]),
      },
      {
        tierIndex: 1,
        tierKey: "intermediate",
        themeToken: "intermediate",
        achievements: pickDefs(DISTANCE_CONTROL_TIER_IDS[1]),
      },
      {
        tierIndex: 2,
        tierKey: "advanced",
        themeToken: "advanced",
        achievements: pickDefs(DISTANCE_CONTROL_TIER_IDS[2]),
      },
      {
        tierIndex: 3,
        tierKey: "expert",
        themeToken: "expert",
        achievements: pickDefs(DISTANCE_CONTROL_TIER_IDS[3]),
      },
    ],
  },
  "specialty-shots": {
    categoryId: "specialty-shots",
    title: "Specialty Shots",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: pickDefs(SPECIALTY_SHOTS_TIER_IDS[0]),
      },
      {
        tierIndex: 1,
        tierKey: "intermediate",
        themeToken: "intermediate",
        achievements: pickDefs(SPECIALTY_SHOTS_TIER_IDS[1]),
      },
      {
        tierIndex: 2,
        tierKey: "advanced",
        themeToken: "advanced",
        achievements: pickDefs(SPECIALTY_SHOTS_TIER_IDS[2]),
      },
      {
        tierIndex: 3,
        tierKey: "expert",
        themeToken: "expert",
        achievements: pickDefs(SPECIALTY_SHOTS_TIER_IDS[3]),
      },
    ],
  },
  "scoring-achievements": {
    categoryId: "scoring-achievements",
    title: "Scoring Achievements",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: pickDefs(SCORING_ACHIEVEMENTS_TIER_IDS[0]),
      },
      {
        tierIndex: 1,
        tierKey: "intermediate",
        themeToken: "intermediate",
        achievements: pickDefs(SCORING_ACHIEVEMENTS_TIER_IDS[1]),
      },
      {
        tierIndex: 2,
        tierKey: "advanced",
        themeToken: "advanced",
        achievements: pickDefs(SCORING_ACHIEVEMENTS_TIER_IDS[2]),
      },
      {
        tierIndex: 3,
        tierKey: "expert",
        themeToken: "expert",
        achievements: pickDefs(SCORING_ACHIEVEMENTS_TIER_IDS[3]),
      },
    ],
  },
  "round-ratings": {
    categoryId: "round-ratings",
    title: "Round Ratings",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: pickDefs(ROUND_RATINGS_TIER_IDS[0]),
      },
      {
        tierIndex: 1,
        tierKey: "intermediate",
        themeToken: "intermediate",
        achievements: pickDefs(ROUND_RATINGS_TIER_IDS[1]),
      },
      {
        tierIndex: 2,
        tierKey: "advanced",
        themeToken: "advanced",
        achievements: pickDefs(ROUND_RATINGS_TIER_IDS[2]),
      },
      {
        tierIndex: 3,
        tierKey: "expert",
        themeToken: "expert",
        achievements: pickDefs(ROUND_RATINGS_TIER_IDS[3]),
      },
    ],
  },
  "cardmates": {
    categoryId: "cardmates",
    title: "Cardmates",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: pickDefs(CARDMATES_TIER_IDS[0]),
      },
      {
        tierIndex: 1,
        tierKey: "intermediate",
        themeToken: "intermediate",
        achievements: pickDefs(CARDMATES_TIER_IDS[1]),
      },
      {
        tierIndex: 2,
        tierKey: "advanced",
        themeToken: "advanced",
        achievements: pickDefs(CARDMATES_TIER_IDS[2]),
      },
    ],
  },
  "good-samaritan": {
    categoryId: "good-samaritan",
    title: "Good Samaritan",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: pickDefs(GOOD_SAMARITAN_TIER_IDS[0]),
      },
      {
        tierIndex: 1,
        tierKey: "intermediate",
        themeToken: "intermediate",
        achievements: pickDefs(GOOD_SAMARITAN_TIER_IDS[1]),
      },
      {
        tierIndex: 2,
        tierKey: "advanced",
        themeToken: "advanced",
        achievements: pickDefs(GOOD_SAMARITAN_TIER_IDS[2]),
      },
      {
        tierIndex: 3,
        tierKey: "expert",
        themeToken: "expert",
        achievements: pickDefs(GOOD_SAMARITAN_TIER_IDS[3]),
      },
    ],
  },
  "disc-collection": {
    categoryId: "disc-collection",
    title: "Disc Collection",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: pickDefs(DISC_COLLECTION_TIER_IDS[0]),
      },
      {
        tierIndex: 1,
        tierKey: "intermediate",
        themeToken: "intermediate",
        achievements: pickDefs(DISC_COLLECTION_TIER_IDS[1]),
      },
      {
        tierIndex: 2,
        tierKey: "advanced",
        themeToken: "advanced",
        achievements: pickDefs(DISC_COLLECTION_TIER_IDS[2]),
      },
      {
        tierIndex: 3,
        tierKey: "expert",
        themeToken: "expert",
        achievements: pickDefs(DISC_COLLECTION_TIER_IDS[3]),
      },
    ],
  },
  "course-explorer": {
    categoryId: "course-explorer",
    title: "Course Explorer",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: pickDefs(COURSE_EXPLORER_TIER_IDS[0]),
      },
      {
        tierIndex: 1,
        tierKey: "intermediate",
        themeToken: "intermediate",
        achievements: pickDefs(COURSE_EXPLORER_TIER_IDS[1]),
      },
      {
        tierIndex: 2,
        tierKey: "advanced",
        themeToken: "advanced",
        achievements: pickDefs(COURSE_EXPLORER_TIER_IDS[2]),
      },
      {
        tierIndex: 3,
        tierKey: "expert",
        themeToken: "expert",
        achievements: pickDefs(COURSE_EXPLORER_TIER_IDS[3]),
      },
    ],
  },
  "round-milestones": {
    categoryId: "round-milestones",
    title: "Round Milestones",
    tiers: [
      {
        tierIndex: 0,
        tierKey: "beginner",
        themeToken: "beginner",
        achievements: pickDefs(ROUND_MILESTONES_TIER_IDS[0]),
      },
      {
        tierIndex: 1,
        tierKey: "intermediate",
        themeToken: "intermediate",
        achievements: pickDefs(ROUND_MILESTONES_TIER_IDS[1]),
      },
      {
        tierIndex: 2,
        tierKey: "advanced",
        themeToken: "advanced",
        achievements: pickDefs(ROUND_MILESTONES_TIER_IDS[2]),
      },
      {
        tierIndex: 3,
        tierKey: "expert",
        themeToken: "expert",
        achievements: pickDefs(ROUND_MILESTONES_TIER_IDS[3]),
      },
    ],
  },
};

export function isTieredCategoryId(categoryId: string): boolean {
  return !!(CATEGORY_CARD_DEFS as any)[categoryId];
}

export function getTieredCategoryIds(): string[] {
  return Object.keys(CATEGORY_CARD_DEFS);
}

export function getCategoryCardDefById(categoryId: string): CategoryCardDef | null {
  return (CATEGORY_CARD_DEFS as any)[categoryId] ?? null;
}

export function getActiveTierAchievements(categoryId: string, tierIndex: number): AchievementDef[] {
  const def = getCategoryCardDefById(categoryId);
  if (!def) return [];
  return getCategoryTier(def as any, tierIndex).achievements;
}

function clampTierIndex(tierIndex: number, tierCount: number): number {
  if (!Number.isFinite(tierIndex)) return 0;
  if (tierCount <= 0) return 0;
  return Math.max(0, Math.min(tierCount - 1, Math.floor(tierIndex)));
}

export function getCategoryTier(
  category: CategoryKey | CategoryDef,
  tierIndex: number
): TierDef {
  const def =
    typeof category === "string" ? ACHIEVEMENTS_CATEGORIES[category] : category;
  const tiers = def?.tiers ?? [];
  const idx = clampTierIndex(tierIndex, tiers.length);
  return tiers[idx] ?? {
    tierIndex: 0,
    tierKey: "beginner",
    themeToken: "beginner",
    achievements: [],
  };
}

export function getCategoryAchievementsForTier(
  category: CategoryKey | CategoryDef,
  tierIndex: number
): AchievementDef[] {
  return getCategoryTier(category, tierIndex).achievements;
}
